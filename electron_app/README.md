# Claude Code Desktop

ä¸€ä¸ªåŸºäº Electron + React + TypeScript æ„å»ºçš„ Claude Code æ¡Œé¢å®¢æˆ·ç«¯ï¼Œæ”¯æŒç§»åŠ¨ç«¯ä¸æ¡Œé¢ç«¯åŒæ­¥ã€‚

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ“± **ç§»åŠ¨ç«¯åŒæ­¥** - é€šè¿‡ WebSocket ä¸ç§»åŠ¨ç«¯ä¿æŒå®æ—¶åŒæ­¥
- ğŸ’¬ **å¤šä¼šè¯ç®¡ç†** - æ”¯æŒå¤šä¸ª Claude å¯¹è¯åŒæ—¶è¿›è¡Œ
- ğŸ“ **æ–‡ä»¶ä¸Šä¼ ** - æ”¯æŒä»£ç ã€å›¾ç‰‡ã€æ–‡æœ¬ç­‰å¤šç§æ–‡ä»¶æ ¼å¼
- ğŸ” **æƒé™ç®¡ç†** - ç»†ç²’åº¦çš„æ“ä½œæƒé™æ§åˆ¶
- ğŸ¤– **Bot é›†æˆ** - æ”¯æŒ WhatsApp/Feishu Bot è¿œç¨‹è®¿é—®

### æ€§èƒ½ä¼˜åŒ–
- âš¡ **è™šæ‹Ÿæ»šåŠ¨** - ä½¿ç”¨ react-window ä¼˜åŒ–å¤§é‡æ¶ˆæ¯æ¸²æŸ“
- ğŸ¯ **React.memo** - ç»„ä»¶çº§åˆ«çš„æ€§èƒ½ä¼˜åŒ–
- ğŸ“Š **æŒ‰éœ€æ¸²æŸ“** - åªåœ¨æ¶ˆæ¯æ•° > 50 æ—¶å¯ç”¨è™šæ‹Ÿæ»šåŠ¨

### UI/UX
- ğŸ¨ **ç»ç’ƒæ€è®¾è®¡** - ç°ä»£åŒ–çš„æ¯›ç»ç’ƒæ•ˆæœ UI
- ğŸ“± **å“åº”å¼å¸ƒå±€** - å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- ğŸŒˆ **æ¸å˜åŠ¨ç”»** - æµç•…çš„è§†è§‰è¿‡æ¸¡æ•ˆæœ
- ğŸŒ™ **æ·±è‰²ä¸»é¢˜** - æŠ¤çœ¼çš„æ·±è‰²æ¨¡å¼è®¾è®¡

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React 18 + TypeScript
- **æ„å»º**: Vite
- **æ¡Œé¢**: Electron
- **æ ·å¼**: Tailwind CSS
- **çŠ¶æ€**: React Hooks
- **æ€§èƒ½**: react-window

## å¼€å‘æŒ‡å—

### å®‰è£…ä¾èµ–
```bash
npm install
```

### å¼€å‘æ¨¡å¼
```bash
npm run dev
```

### æ„å»º
```bash
npm run build
```

### æ‰“åŒ… Electron åº”ç”¨
```bash
npm run build:electron
```

## é¡¹ç›®ç»“æ„

```
electron_app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/        # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ mobile/        # ç§»åŠ¨ç«¯ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ConversationDrawer.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ConversationItem.tsx
â”‚   â”‚   â”‚   â””â”€â”€ StatusIndicator.tsx
â”‚   â”‚   â””â”€â”€ ui/            # é€šç”¨ UI ç»„ä»¶
â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ OpenPage.tsx
â”‚   â”‚   â”œâ”€â”€ ConversationPage.tsx
â”‚   â”‚   â””â”€â”€ SettingsPage.tsx
â”‚   â”œâ”€â”€ lib/               # å·¥å…·åº“
â”‚   â”œâ”€â”€ types/             # TypeScript ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ main.tsx           # åº”ç”¨å…¥å£
â”œâ”€â”€ electron/
â”‚   â””â”€â”€ main.ts            # Electron ä¸»è¿›ç¨‹
â””â”€â”€ docs/
    â””â”€â”€ plans/             # è®¾è®¡æ–‡æ¡£
```

## ç§»åŠ¨ç«¯åŒæ­¥åè®®

### WebSocket æ¶ˆæ¯ç±»å‹

#### å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨
- `ping` - å¿ƒè·³æ£€æµ‹
- `chat-message` - å‘é€èŠå¤©æ¶ˆæ¯
- `select-conversation` - é€‰æ‹©å¯¹è¯
- `permission-response` - æƒé™å“åº”

#### æœåŠ¡å™¨ â†’ å®¢æˆ·ç«¯
- `pong` - å¿ƒè·³å“åº”
- `conversation-list` - å¯¹è¯åˆ—è¡¨æ›´æ–°
- `chat-message` - æ¥æ”¶èŠå¤©æ¶ˆæ¯
- `permission-request` - æƒé™è¯·æ±‚
- `sync-status` - åŒæ­¥çŠ¶æ€

### IPC é€šä¿¡

æ¸²æŸ“è¿›ç¨‹ä¸ä¸»è¿›ç¨‹é€šè¿‡ IPC é€šä¿¡ï¼š

- `getConversationList()` - è·å–å¯¹è¯åˆ—è¡¨
- `uploadFile(path, conversationId)` - ä¸Šä¼ æ–‡ä»¶
- `selectFile()` - é€‰æ‹©æ–‡ä»¶
- `claudeSend(...)` - å‘é€æ¶ˆæ¯ç»™ Claude
- `get/setLinkPassword()` - ç®¡ç†è¿æ¥å¯†ç 

## é…ç½®

### WebSocket æœåŠ¡å™¨
é»˜è®¤ç«¯å£: `3000`

å¯åœ¨è®¾ç½®é¡µé¢ä¿®æ”¹ï¼š
1. ç‚¹å‡»å³ä¸Šè§’è®¾ç½®æŒ‰é’®
2. é…ç½® IP åœ°å€å’Œç«¯å£
3. ï¼ˆå¯é€‰ï¼‰è®¾ç½®è¿æ¥å¯†ç 

### Bot é›†æˆ
æ”¯æŒé€šè¿‡ WhatsApp/Feishu Bot è¿œç¨‹è®¿é—® Claudeï¼š
1. åœ¨è®¾ç½®é¡µé¢å¯ç”¨ Bot
2. é…ç½®å¯¹è¯ ID
3. ä½¿ç”¨ Bot å‘½ä»¤è¿›è¡Œäº¤äº’

## å¼€æºåè®®

MIT License
